<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz B√≠blico</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      padding: 20px;
      text-align: center;
    }
    h1 { color: #333; }
    #question { font-size: 20px; margin-bottom: 15px; }
    #answers button {
      display: block;
      margin: 5px auto;
      padding: 10px 20px;
      background: #4285f4;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #answers button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .hidden { display: none; }
    #result, #phase-info, #progresso-info {
      margin-top: 20px;
      font-weight: bold;
    }
    input[type="text"] {
      padding: 8px;
      margin: 10px;
      width: 200px;
    }
    button.action {
      background: #34a853;
      margin: 5px;
    }
    #start-btn {
      background: #fbbc05;
      padding: 10px 20px;
      font-size: 16px;
      margin-bottom: 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Quiz B√≠blico</h1>

  <div id="start-screen">
    <h2>Bem-vindo ao Quiz!</h2>
    <input type="text" id="usuario" placeholder="Digite seu nome" />
    <br>
    <button id="start-btn">Iniciar</button>
  </div>

  <div id="quiz-container" class="hidden">
    <div id="phase-info"></div>
    <div id="question"></div>
    <div id="answers"></div>
    <button id="next-btn" class="hidden">Pr√≥xima Pergunta</button>
    <button id="next-phase-btn" class="hidden">Avan√ßar para a Pr√≥xima Fase</button>
    <div id="result" class="hidden"></div>
  </div>

  <div>
    <button class="action" onclick="salvarProgresso()">üíæ Salvar Progresso</button>
    <button class="action" onclick="consultarProgresso()">üìä Ver Progresso</button>
  </div>
  <div id="progresso-info"></div>

  <script>
    const allQuestions = [
      {
        question: "(1) A quem Paulo chamou de 'meu companheiro de lutas' (Filemon 1:2)?",
        answers: [
          { text: "Apolo", correct: false },
          { text: "Afia", correct: false },
          { text: "Arquipo", correct: true },
          { text: "Adonias", correct: false }
        ]
      },
    {
        question: "(2) Quais disc√≠pulos perguntaram a Jesus se podiam fazer descer fogo do c√©u? (Lucas 9:54)",
        answers: [{text: "Jo√£o e Tiago", correct: true},{text: "Pedro e Jo√£o", correct: false},{text: "Tiago e Pedro", correct:false },{text: "Tiago e Mateus", correct: false }]
    },
    {
        question: "(3) Qual era o nome da serpente de bronze que Mois√©s tinha feito? (2 Reis 18:4)",
        answers: [{text:'Aser√°', correct: false},{text:'Leviat√£', correct: false},{text:'Neust√£', correct: true},{text:"Athenis",correct: false}]
    },
    {
        question: "(4) Qual era o nome babil√¥nico de Daniel? (Daniel 1:7)",
        answers: [{text:'Aspenaz', correct: false},{text:'Beltessazar', correct: true},{text:'Abede-Nego', correct: false},{text:"Mongero",correct: false}]
    },
    {
        question: "(5) Qual o nome que Jac√≥ deu ao lugar onde sonhou com Deus?",
        answers: [{text:'Betuel', correct: false},{text:'Luz', correct: false},{text:'Bezel', correct: false},{text:"Betel",correct: true}]
    },
    {
        question: "(6) Qual o livro da B√≠blia que termina com um ponto de interroga√ß√£o? (Jonas 4:11)",
        answers: [{text:'Jonas', correct: true},{text:'Joel', correct: false},{text:'Judas', correct: false},{text:"Jo√£o",correct: false}]
    },
    {
        question: "(7) Qual livro se encontra no Novo Testamento?",
        answers: [{text:'Sofonias', correct: false},{text:'Obadias', correct: false},{text:'Habacuque', correct: false},{text:"Filemom",correct: true}]
    },
    {
        question: "(8) Em quais livros da B√≠blia n√£o encontramos a palavra Deus?",
        answers: [{text:'Ester e C√¢nticos', correct: true},{text:'Ageu e Am√≥s', correct: false},{text:'Os√©ias e Eclesiastes', correct: false},{text:"Obadias e Malaquias",correct: false}]
    },
    {
        question: "(9) Qual o menor livro da B√≠blia?",
        answers: [{text:'Judas', correct: false},{text:'II Jo√£o', correct: true},{text:'III Jo√£o', correct: false},{text:"Ester",correct: false}]
    },
    {
        question: "(10) Na vis√£o prof√©tica de Jo√£o, qual era o n√∫mero de cavaleiros do Apocalipse?",
        answers: [{text:'7', correct: false},{text:'6', correct: false},{text:'5', correct: false},{text:"4",correct: true}]
    },


            {
            question:'(11)  Quem escreveu a Ep√≠stola de Judas?',
            answers:[
               { text:'a) Judas irm√£o de Tiago', correct: true},
               {text:'b) Judas Iscariotes', correct: false},
               {text:'c) Jo√£o Evangelista', correct: false},
               {text:"d) Lucas ",correct: false}
            
            ]},
            {
            question:'(12) Quem teve seu corpo disputado pelo arcanjo Miguel e o Diabo?',
            answers:[
               { text:'Jesus ', correct: false},
               {text:'Elizeu', correct: false},
               {text:'Mois√©s', correct: true},
               {text:"Abra√£o",correct: false}
            
            ]},
            {
            question:'(13) Qual era o nome da profetisa que estava fazendo a igreja de Tiatira cair em imoralidade sexual e idolatria?',
            answers:[
               { text:'Jezabel', correct: true},
               {text:'Lilith', correct: false},
               {text:'Dalila', correct: false},
               {text:"Ester",correct: false}
            
            ]},
            {
            question:'(14) A Morte montada em um cavalo amarelo surgiu na abertura de qual selo em Apocalipse?',
            answers:[
               { text:'a) 1¬∫ selo', correct: false},
               {text:'b) 7¬∫ selo', correct: false},
               {text:'c) 4¬∫ selo', correct: true},
               {text:"d) 6¬∫ selo",correct: false}
            
            ]},
            {
            question:'(15) Quem foi a √∫nica mulher citada na B√≠blia a ter o status de ju√≠za e l√≠der de Israel?',
            answers:[
               { text:'a) Jael', correct: false},
               {text:'b) D√©bora', correct: true},
               {text:'c) Ester', correct: false},
               {text:"d) Rute",correct: false}
            
            ]},
            {
            question:"(16)  A quem o Ap√≥stolo Paulo chamou de 'm√©dico amado'?",
            answers:[
               { text:'a) Jesus', correct: false},
               {text:'b) Demas', correct: false},
               {text:'c) Lucas', correct: true},
               {text:"d) Jo√£o",correct: false}
            
            ]},
            {
            question:'(17) Quem governou sendo rei e sacerdote ao mesmo tempo?',
            answers:[
               { text:'a) Joacaz', correct: false},
               {text:'b) Manass√©s ', correct: false},
               {text:'c) melquias', correct: false},
               {text:"d)  Melquisedeque",correct: true}
            
            ]},
            {
            question:'(18) Que animal mordeu a m√£o do Ap√≥stolo Paulo?',
            answers:[
               { text:'a) Lagarto', correct: false},
               {text:'b) Escorpi√£o', correct: false},
               {text:'c) V√≠bora', correct: true},
               {text:"d) Abelha",correct: false}
            
            ]},
            {
            question:'(19) Qual era a idade de Calebe quando pediu Hebrom para Josu√©?',
            answers:[
               { text:'a) 40 anos', correct: false},
               {text:'b) 70 anos', correct: false},
               {text:'c) 120 anos', correct: false},
               {text:"d) 85 anos",correct: true}
            
            ]},
            {
            question:'(20) Por quantas moedas Judas entregou Jesus?',
            answers:[
               { text:'a) 30 moedas de ouro', correct: false},
               {text:'b) 30 moedas de prata', correct: true},
               {text:'c) 100 den√°rios', correct: false},
               {text:"d) 30 moedas de bronze",correct: false}
            
            ]},
            {
            question:"(21) Quem foram apelidados por Jesus de Boanerges que significa 'Filhos do Trov√£o'?",
            answers:[
               { text:'a) Jo√£o e Pedro', correct: false},
               {text:'b) lucas e pedro', correct: false},
               {text:'c) Pedro e Tiago', correct: false},
               {text:"Jo√£o e Tiago",correct: true}
            
            ]},
            {
            question:'(22) Qual era o nome da √∫nica filha de Lia?',
            answers:[
               { text:'a) Zilpa', correct: false},
               {text:'b) Din√°', correct: true},
               {text:'c) Raquel', correct: false},
               {text:"d)Ester",correct: false}
            
            ]},
            {
            question:'(23) Qual o disc√≠pulo que acompanhou Jesus at√© a sua crucifica√ß√£o?',
            answers:[
               { text:'a) Andr√©', correct: false},
               {text:'b) Tiago', correct: false},
               {text:'c) Jo√£o', correct: true},
               {text:"d) Pedro",correct: false}
            
            ]},
            {
            question:'(24) Quantos cap√≠tulos tem o Livro de Naum?',
            answers:[
               { text:'1', correct: false},
               {text:'4', correct: false},
               {text:'5', correct: false},
               {text:"3",correct: true}
            
            ]},
            {
            question:'(25) O Velho Testamento re√∫ne mais livros do que o Novo Testamento?',
            answers:[
               { text:'sim', correct: true},
               {text:'n√£o', correct: false},
               {text:'Ambos tem a mesma quantidade', correct: false},
              
            
            ]},
            {
            question:'(26) A est√°tua do sonho de Nabucodonosor era composta de quais elementos?',
            answers:[
               { text:'a) Toda em ouro', correct: false},
               {text:'b) Ouro, prata, √¥nix e ferro', correct: false},
               {text:'c) Ouro, prata, bronze, onix e ferro', correct: false},
               {text:"d) Ouro, prata, bronze, ferro e barro.",correct: true}
            
            ]},
            {
  question:'(27) Quem era conhecido por ser cobrador de impostos?',
  answers:[
     { text:'a) Jo√£o Batista', correct: false },
     { text:'b) Bartolomeu', correct: false },
     { text:'c) Zaqueu', correct: true },
     { text:'d) Judas Tadeu', correct: false }
  ]
},
            {
            question:'(28) Quanto tempo Jonas ficou preso dentro da barriga de um grande peixe?',
            answers:[
               { text:'a) 7 dias', correct: false},
               {text:'b) 3 dias', correct: true},
               {text:'c) 1 dia', correct: false},
               {text:"d) 4 dias",correct: false}
            
            ]},
            {
            question:'(29) Qual foram os dois nomes indicados para substituir Judas Iscariotes?',
            answers:[
               { text:'a) Barsab√°s e Matias.', correct: true},
               {text:'b) Paulo e Matias.', correct: false},
               {text:'c) Paulo e Jos√©.', correct: false},
               {text:"d) Matias e Paulo",correct: false}
            
            ]},
            {
            question:'(30)  Em Tessal√¥nica, Paulo, Silas e Tim√≥teo se refugiaram na casa de qual irm√£o?',
            answers:[
               { text:'a) Apolo', correct: false},
               {text:'b) Barnab√©', correct: false},
               {text:'c) arquipo', correct: false},
               {text:"d) Jasom",correct: true}
            
            ]},
            {
            question:'(31) Ad√£o viveu ao todo quantos anos?',
            answers:[
               { text:'a) 930 anos', correct: true},
               {text:'b) 1000 anos', correct: false},
               {text:'c) 500 anos', correct: false},
               {text:"d) 850 anos",correct: false}
            
            ]},
            {
            question:'(32) Jesus enviou quantos disc√≠pulos para a miss√£o de pregar o Evangelho?',
            answers:[
               { text:'a) 7 disc√≠puloss', correct: false},
               {text:'b) 70 disc√≠pulos', correct: true},
               {text:'c) 12 disc√≠pulos', correct: false},
               {text:"d) 6 disc√≠pulos",correct: false}
            
            ]},
            {
            question:'(33)  Em qual dia da cria√ß√£o foi feito o sol, a lua e as estrelas?',
            answers:[
               { text:'a) 1¬∫ dia', correct: false},
               {text:'b) 3¬∫ dia', correct: false},
               {text:'c) 4¬∫ dia', correct: true},
               {text:"d) 6¬∫ dia",correct: false}
            
            ]},
            {
            question:'(34) O Livro de Atos dos Ap√≥stolos √© conhecido como...',
            answers:[
               { text:'a) um livro hist√≥rico', correct: true},
               {text:'b) um livro prof√©tico', correct: false},
               {text:'c) um livro po√©tico', correct: false},
               {text:"d) um livro teologico",correct: false}
            
            ]},
            {
            question:'(35) Depois do Dil√∫vio, No√© viveu por mais quantos anos?',
            answers:[
               { text:'a) 350 anos', correct: true},
               {text:'b) 100 anos', correct: false},
               {text:'c) 200 anos', correct: false},
               {text:"d) 50 anos",correct: false}
            
            ]},
            {
            question:'(36) Qual √© o quinto livro do Novo Testamento?',
            answers:[
               { text:'a)Evangelho de Marcos', correct: false},
               {text:'b) Carta aos Romanos', correct: false},
               {text:'c) Atos dos Ap√≥stolos', correct: true},
               {text:"d) Evangelho de lucas",correct: false}
            
            ]},
            {
            question:'(37) Qual era o nome da mulher de J√≥?',
            answers:[
               { text:'a)Abgail', correct: false},
               {text:'b) D√¢mares', correct: false},
               {text:'c) A BIBLIA N√ÉO DIZ', correct: true},
               {text:"d) Sophia",correct: false}
            
            ]},
            {
            question:'(38)  Quem No√© amaldi√ßoou ap√≥s saber que foi visto em nudez?',
            answers:[
               { text:'a) Cana√£', correct: true},
               {text:'b) Cam', correct: false},
               {text:'c) Jaf√©', correct: false},
               {text:"d) Ezau",correct: false}
            
            ]},
            {
            question:'(39) Qual das alternativas n√£o √© um livro ap√≥crifo?',
            answers:[
               { text:'a) Livro Enoque', correct: false},
               {text:'b) Livro de Ageu', correct: true},
               {text:'c) Livro de Tobias', correct: false},
               {text:"d) Livro de Thomas",correct: false}
            
            ]},
            {
            question:'(40) Qual destes livros cont√©m mais de um cap√≠tulo?',
            answers:[
               { text:'a) Judas', correct: false},
               {text:'b) Obadias', correct: false},
               {text:'c) Joel', correct: true},
               
            
            ]},
            {
            question:'(41) Qual √© o vers√≠culo mais extenso da B√≠blia?',
            answers:[
               { text:'a)Ester 8:9', correct: true},
               {text:'b) Salmos 119:43', correct: false},
               {text:'c) Isa√≠as 24:2', correct: false},
               {text:"d) jeremias 3:5",correct: false}
            
            ]},
            {
               question: "(42) Quantos vers√≠culos tem Salmos 119?",
               answers: [
                   { text: "a) 176 vers√≠culos", correct: true },
                   { text: "b) 200 vers√≠culos.", correct: false },
                   { text: "c) 100 vers√≠culos.", correct: false },
                   { text: "d) 150 vers√≠culos.", correct: false }
               ]},
           {
               question: "(43) Qual a mulher que acolheu o seu inimigo e depois o matou? (Ju√≠zes 4:18-21)",
               answers: [
                   { text: "a) Raquel", correct: false },
                   { text: "b) D√©bora", correct: false },
                   { text: "c) Jael", correct: true },
                   { text: "d) Rebeca", correct: false }
               ]
           },
           {
               question: "(44) Que homem depois de morto, matou mais pessoas do que em vida? (Ju√≠zes 16:30)",
               answers: [
                   { text: "a) Elias", correct: false },
                   { text: "b) Sans√£o", correct: true },
                   { text: "c) Judas", correct: false },
                   { text: "d) Davi", correct: false }
               ]
           },
           {
               question: "(45) Quem se tornou rei enquanto procurava as jumentas do seu pai? (1 Samuel 9:3)",
               answers: [
                   { text: "a) Davi", correct: false },
                   { text: "b) Saul", correct: true },
                   { text: "c) Acabe", correct: false },
                   { text: "d) Salom√£o", correct: false }
               ]
           },
           {
               question: "(46) Quem tinha um cabelo que pesava mais de dois quilos e era necess√°rio cortar todo ano? (2 Samuel 14:26)",
               answers: [
                   { text: "a) Absal√£o", correct: true },
                   { text: "b) Davi", correct: false },
                   { text: "c) Sans√£o", correct: false },
                   { text: "d) Eliabe", correct: false }
               ]
           },
           {
               question: "(47) Quem teve a vida prolongada por mais 15 anos ap√≥s orar? (Isa√≠as 38:5)",
               answers: [
                   { text: "a) Enoque", correct: false },
                   { text: "b) Matusal√©m", correct: false },
                   { text: "c) Ezequias", correct: true },
                   { text: "d) Elias", correct: false }
               ]
           },
           {
               question: "(48) Quem foram apelidados pela multid√£o em Listra de Zeus e Hermes? (Atos 14:12)",
               answers: [
                   { text: "a) Pedro e Jo√£o", correct: false },
                   { text: "b) Barnab√© e Paulo", correct: true },
                   { text: "c) Jesus e Paulo", correct: false },
                   { text: "d) Jo√£o e Marcos", correct: false }
               ]
           },
           {
               question: "(49) Quais os 2 homens que o Ap√≥stolo Paulo disse que naufragaram na f√©? (1 Tim√≥teo 1:19-20)",
               answers: [
                   { text: "a) Himeneu e Alexandre", correct: true },
                   { text: "b) Janes e Jambres", correct: false },
                   { text: "c) Silas e Barnab√©", correct: false },
                   { text: "d) Dimas e Tito", correct: false }
               ]
           },
           {
               question: "(50) Qual foi o profeta que surgiu depois de Malaquias? (Mateus 3:1)",
               answers: [
                   { text: "a) Zacarias", correct: false },
                   { text: "b) Joel", correct: false },
                   { text: "c) Jo√£o Batista", correct: true },
                   { text: "d) Elias", correct: false }
               ]
           },
           {
               question: "(51) Quantos carros de ferro Jabim possu√≠a? (Ju√≠zes 4:2)",
               answers: [
                   { text: "a) 900 carros de ferro.", correct: true },
                   { text: "b) 300 carros de ferro.", correct: false },
                   { text: "c) 100 carros de ferro.", correct: false },
                   { text: "d) 1.000 carros de ferro.", correct: false }
               ]
           },
           {
               question: "(52) Qual o nome do pai de Saul? (1 Samuel 9:1)",
               answers: [
                   { text: "a) Abiel", correct: false },
                   { text: "b) Quis", correct: true },
                   { text: "c) Zeror", correct: false },
                   { text: "d) Cis", correct: false }
               ]
           },
           {
               question: "(53) S√≠sera foi morto em que situa√ß√£o? (Ju√≠zes 4:21)",
               answers: [
                   { text: "a) Enquanto dormia.", correct: true },
                   { text: "b) Enquanto lutava.", correct: false },
                   { text: "c) Enquanto orava.", correct: false },
                   { text: "d) Enquanto fugia.", correct: false }
               ]
           },
           {
               question: "(54) Bala√£o foi chamado por quem para amaldi√ßoar o povo de Israel? (N√∫meros 22:4)",
               answers: [
                   { text: "a) Moabe", correct: false },
                   { text: "b) Balaque", correct: true },
                   { text: "c) Zipor", correct: false },
                   { text: "d) Zadoque", correct: false }
               ]
           },
           {
               question: "(55) Oseias profetizou durante o reinado de quais reis? (Os√©ias 1:1)",
               answers: [
                   { text: "a) Saul, Davi e Salom√£o.", correct: false },
                   { text: "b) Jozias, Joacaz, Ocazias e Jor√£o.", correct: false },
                   { text: "c) Uzias, Jot√£o, Acaz, Ezequias e Jerobo√£o.", correct: true },
                   { text: "d) Ezequiel, Isa√≠as, Jeremias e Daniel.", correct: false }
               ]
           },
           {
               question: "(56) Os√©ias se casou com... (Os√©ias 1:2-3)",
               answers: [
                   { text: "a) Uma rainha.", correct: false },
                   { text: "b) Uma mulher ad√∫ltera.", correct: true },
                   { text: "c) Uma mulher estrangeira.", correct: false },
                   { text: "d) Uma levita.", correct: false }
               ]
           },
           {
               question: "(57) Sofonias foi profeta durante qual reinado? (Sofonias 1:1)",
               answers: [
                   { text: "a) Reinado de Josias.", correct: true },
                   { text: "b) Reinado de Acabe.", correct: false },
                   { text: "c) Reinado de Acaz.", correct: false },
                   { text: "d) Reinado de Salom√£o.", correct: false }
               ]
           },
           {
               question: "(58) Que povo recebeu Paulo com grande interesse, e examinou as Escrituras, para ver se tudo era verdade? (Atos 17:11)",
               answers: [
                   { text: "a) Os tessal√¥nios.", correct: false },
                   { text: "b) Os bereanos.", correct: true },
                   { text: "c) Os atenienses.", correct: false },
                   { text: "d) Os cor√≠ntios.", correct: false }
               ]
           },
           {
               question: "(59) O que deixou Paulo indignado em Atenas? (Atos 17:16-17)",
               answers: [
                   { text: "a) A promiscuidade do povo grego.", correct: false },
                   { text: "b) A quantidade de √≠dolos na cidade.", correct: true },
                   { text: "c) A falta de sinagogas na cidade.", correct: false },
                   { text: "d) A frieza espiritual.", correct: false }
               ]
           },
           {
               question: "(60) Em Atenas, onde Paulo foi levado para falar sobre Jesus Cristo? (Atos 17:19)",
               answers: [
                   { text: "a) Coliseu.", correct: false },
                   { text: "b) Santu√°rio.", correct: false },
                   { text: "c) Are√≥pago", correct: true },
                   { text: "d) Sinagoga", correct: false }
               ]
           },
    ];

    const phaseLimits = [10, 30, 60];
    let currentPhase = 1;
    let currentIndex = 0;
    let score = 0;
    let currentQuestions = [];

    const questionEl = document.getElementById("question");
    const answersEl = document.getElementById("answers");
    const nextBtn = document.getElementById("next-btn");
    const resultEl = document.getElementById("result");
    const phaseInfo = document.getElementById("phase-info");
    const nextPhaseBtn = document.getElementById("next-phase-btn");

    document.getElementById("start-btn").addEventListener("click", () => {
      const nome = document.getElementById("usuario").value.trim();
      if (!nome) {
        alert("Digite seu nome para come√ßar o quiz.");
        return;
      }
      localStorage.setItem("usuario", nome);
      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("quiz-container").classList.remove("hidden");
      startPhase(1);
    });

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    function startPhase(phase) {
      currentPhase = phase;
      phaseInfo.textContent = `Fase ${phase}`;
      const start = phase === 1 ? 0 : phaseLimits[phase - 2];
      const end = phaseLimits[phase - 1];
      currentQuestions = allQuestions.slice(start, end);
      shuffleArray(currentQuestions);
      currentIndex = 0;
      score = 0;
      resultEl.classList.add("hidden");
      nextBtn.classList.add("hidden");
      nextPhaseBtn.classList.add("hidden");
      showQuestion();
    }

    function showQuestion() {
      const question = currentQuestions[currentIndex];
      questionEl.textContent = question.question;
      answersEl.innerHTML = "";
      question.answers.forEach((ans) => {
        const btn = document.createElement("button");
        btn.textContent = ans.text;
        btn.onclick = () => handleAnswer(ans.correct);
        answersEl.appendChild(btn);
      });
    }

    function handleAnswer(correct) {
      if (correct) score++;
      nextBtn.classList.remove("hidden");
      Array.from(answersEl.children).forEach((btn) => (btn.disabled = true));
    }

    nextBtn.onclick = () => {
      if (currentIndex < currentQuestions.length - 1) {
        currentIndex++;
        nextBtn.classList.add("hidden");
        showQuestion();
      } else {
        resultEl.classList.remove("hidden");
        resultEl.textContent = `Fim da fase ${currentPhase}! Pontua√ß√£o: ${score}/${currentQuestions.length}`;
        if (currentPhase < 3) {
          nextPhaseBtn.classList.remove("hidden");
        } else {
          alert("üéâ Voc√™ concluiu todas as fases!");
        }
        nextBtn.classList.add("hidden");

        if (score > 0) salvarProgresso();
      }
    };

    nextPhaseBtn.onclick = () => {
      if (currentPhase < 3) {
        startPhase(currentPhase + 1);
      } else {
        alert("üéâ Fim do quiz! Parab√©ns!");
      }
    };

    async function salvarProgresso() {
      const usuario = localStorage.getItem("usuario") || document.getElementById("usuario").value.trim();
      if (!usuario) {
        alert("Digite seu nome para salvar o progresso.");
        return;
      }

      try {
        const resposta = await fetch("https://quizbiblico-production.up.railway.app/progresso", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ usuario, fase: currentPhase, pontuacao: score }),
        });

        const dados = await resposta.json();
        if (resposta.ok) {
          alert(dados.mensagem);
        } else {
          alert(`Erro: ${dados.mensagem}`);
        }
      } catch (error) {
        alert("Erro ao conectar com o servidor.");
        console.error("Erro:", error);
      }
    }

    async function consultarProgresso() {
      const usuario = document.getElementById("usuario").value.trim();
      if (!usuario) {
        alert("Digite o nome do usu√°rio para consultar o progresso.");
        return;
      }

      try {
        const resposta = await fetch(`https://quizbiblico-production.up.railway.app/progresso?usuario=${encodeURIComponent(usuario)}`);
        const dados = await resposta.json();

        if (resposta.ok) {
          const ultimo = dados;
          document.getElementById("progresso-info").innerHTML = `
            <strong>üìå √öltimo progresso:</strong><br>
            üë§ Usu√°rio: ${ultimo.usuario}<br>
            üö© Fase: ${ultimo.fase}<br>
            ‚≠ê Pontua√ß√£o: ${ultimo.pontuacao}
          `;
        } else {
          alert(`Erro: ${dados.mensagem}`);
        }
      } catch (error) {
        alert("Erro ao consultar o progresso.");
        console.error("Erro:", error);
      }
    }

    // Tornar fun√ß√µes acess√≠veis globalmente
    window.salvarProgresso = salvarProgresso;
    window.consultarProgresso = consultarProgresso;
  </script>
</body>
</html>
